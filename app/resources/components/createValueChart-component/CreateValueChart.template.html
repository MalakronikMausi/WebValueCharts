<div class="">
	<div class="flex-column creation-page">
		<div class="flex-row column-container col-xs-12">
			<div class="col-xs-10">
                <div class="form-group">
                	<div *ngIf="step === creationStepsService.BASICS">
                        <label class="control-label">Chart name.</label>
                        <input  class="form-control" type="text" [(ngModel)]="valueChartName" name="valueChartName" maxlength="100" />
                        <label class="control-label">Chart description.</label>
                        <textarea  maxlength="100" class="form-control" [(ngModel)]="valueChartDescription" name="valueChartDescription"></textarea>
                        <label><input type="checkbox" [(ngModel)]="isGroupValueChart" name="isGroupValueChart" style="margin: 5px 10px;">Group ValueChart</label>
                    </div>
                    <div *ngIf="step === creationStepsService.OBJECTIVES">
                        <h4>Add Objectives</h4>
                    </div>
                    <div *ngIf="step === creationStepsService.ALTERNATIVES">
                        <h4>Add Alternatives</h4>
                        <input class="btn btn-default btn-lg pull-right" type="button" value="Delete" (click)="deleteAlternatives()" style="margin: 5px 10px;" />
                        <input class="btn btn-default btn-lg pull-right" type="button" value="Add Alternative" (click)="addEmptyAlternative()" style="margin: 5px 10px;" />
                        <table class="table table-bordered">
                            <thead>
                              <tr>
                                <th><input type="checkbox" [ngModel]="allSelected()" (ngModelChange)="toggleSelectAll()"/></th>
                                <th>Name</th>
                                <th>Description</th>
                                <th *ngFor="let objName of getPrimitiveObjectivesByName()">{{objName}}</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let altID of altKeys()">
                                <th>
                                    <input type="checkbox" #t [(ngModel)]="isSelected[altID]" name="{{altID}}" />
                                </th>
                                <th>
                                    <input class="form-control" type="text" #n [ngModel]="alternatives[altID].getName()" name="name" (ngModelChange)="alternatives[altID].setName(n.value)"/>
                                </th>
                                <th>
                                    <input class="form-control" type="text" #d [ngModel]="alternatives[altID].getDescription()" name="description" (ngModelChange)="alternatives[altID].setDescription(d.value)"/>
                                </th>
                                <th *ngFor="let obj of valueChart.getAllPrimitiveObjectives()">
                                    <div *ngIf="obj.getDomain().type === 'categorical'">
                                        <select class="form-control" #t [ngModel]="alternatives[altID].getObjectiveValue(obj.getName())" name="{{obj.getName()}}" (ngModelChange)="alternatives[altID].setObjectiveValue(obj.getName(), t.value)">
                                            <option *ngFor="let opt of obj.getDomain().getElements()" [value]="opt">{{opt}}</option>
                                        </select>
                                    </div>
                                    <div *ngIf="obj.getDomain().type === 'continuous'">
                                        <input class="form-control" type="text" pattern= "[0-9]" #m [ngModel]="alternatives[altID].getObjectiveValue(obj.getName())" name="value" (ngModelChange)="alternatives[altID].setObjectiveValue(obj.getName(),+m.value)"/>
                                    </div>   
                                </th>
                              </tr>
                            </tbody>
                          </table>
                    </div>
                    <div *ngIf="step === creationStepsService.PREFERENCES">
                         <label class="control-label">Select Objective:</label>
                        <select class="form-control" [(ngModel)]="selectedObjective" name="selectedObjective">
                            <option *ngFor="let obj of getPrimitiveObjectivesByName()" [value]="obj">{{obj}}</option>
                        </select>
                        <div>
                            <ScoreFunction 
                                [objective]="getObjective(selectedObjective)"
                                [width]="300"
                                [height]="300"
                                [orientation]="'vertical'"
                                [services]="services">
                                <svg class="svg-content-createvaluechart" viewBox="0 0, 300, 300" preserveAspectRatio="xMinYMin meet">
                                    <g class="expanded-score-function"></g>
                                </svg>
                            </ScoreFunction>  
                        </div>           
                    </div>
                    <div *ngIf="step === creationStepsService.PRIORITIES">
                        <h4>Set Priorities</h4>
                        <label class="control-label">{{getPrioritiesText()}}</label>
                        <input class="btn btn-default btn-lg pull-right" type="button" value="Reset Ranks" (click)="resetRanks()" style="margin: 5px 10px;" />
                        <table class="table table-bordered table-hover">
                            <thead>
                              <tr>
                                <th>Objective</th>
                                <th>Worst Outcome</th>
                                <th>Best Outcome</th>
                              </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let objName of getUnrankedObjectives()" class="clickable-row" (click)="rankObjective(objName)">
                                    <th>{{objName}}</th>
                                    <th style="background-color: #ff8080">{{getWorstOutcome(objName)}}</th>
                                    <th style="background-color: #70db70">{{getBestOutcome(objName)}}</th>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table">
                            <thead>
                              <tr>
                                <th>Ranking</th>
                                <th>Objective</th>
                              </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let objName of rankedObjectives; let rank = index">
                                    <th>{{rank + 1}}</th>
                                    <th>{{objName}}</th>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="form-group">
                    <a class="btn btn-success btn-lg pull-left" [routerLink]="['/create']" style="margin: 5px 10px;">Home</a>
                    <input class="btn btn-success btn-lg pull-left" type="button" value="<< Back" [disabled]="disableBackButton()" (click)="back()" style="margin: 5px 10px;" />
                    <input class="btn btn-success btn-lg pull-right" type="button" [value]="nextButtonText()" [disabled]="disableNextButton()" (click)="next()" style="margin: 5px 10px;"  />
                    <input class="btn btn-success btn-lg pull-right" type="button" value="Save To File" [disabled]="disableSaveButton()" (click)="save()" style="margin: 5px 10px;" />
                </div>

                <div class="form-group">

                </div>
            </div>
        </div>
    </div>
</div>